const placeIds=[78606358056604,17554141378,0x73b36ebf4a58,92774394395352,0x7386b3da4015,91538944718650],descriptions={default:"error",78606358056604:"\uD83D\uDC1B Reported multiple exploitable features and bugs",17554141378:"\uD83D\uDC1B Done a lot of bug patches<br>⚡ Added a few extra features, like events",0x73b36ebf4a58:"\uD83D\uDEE1️ Created an anti-exploit system that prevents spawning currency<br>\uD83D\uDEAB Banned all old exploiters<br>⚡ Added a lot of new features including SurfaceAppearances and new pets",92774394395352:"\uD83E\uDD5A Added 2 new eggs<br>\uD83D\uDEE1️ Added anti-exploits",0x7386b3da4015:"\uD83D\uDEE1️ Added anti-exploit to prevent fake purchases<br>\uD83D\uDCAC Migrated to the new chat system",91538944718650:"\uD83D\uDCDC Written a lot of new client and server code<br>\uD83D\uDC51 Co-owner & Head scripter"};window.addEventListener("load",function(){window.scrollTo(0,0)}),"scrollRestoration"in history&&(history.scrollRestoration="manual");const prefix="Bjarnos | ",suffixes=["Roblox Game Developer","Security Systems Engineer","Full-Stack Developer"];let index=0;function updateTitle(){document.title="Bjarnos | "+suffixes[index],index=(index+1)%suffixes.length}updateTitle(),setInterval(updateTitle,3e3);const startTime=1630317600,unixTime=Math.floor(Date.now()/1e3),difference=Math.floor((unixTime-1630317600)/31556926);let overlay;if(document.addEventListener("DOMContentLoaded",async()=>{document.getElementById("stat-active").innerText=String(difference)+"+",overlay=document.getElementById("overlay");let e=document.getElementById("popup"),t=document.getElementById("close-popup");function i(){overlay.style.display="none",e.style.display="none"}overlay.addEventListener("click",()=>{i()}),t.addEventListener("click",i),document.addEventListener("keydown",e=>{"Escape"===e.key&&i()});let s=document.getElementById("games-list"),n=0,a=0,l=[];try{let o="https://corsproxy.io/?",r=placeIds.map(e=>fetch(o+encodeURIComponent(`https://apis.roblox.com/universes/v1/places/${e}/universe`)).then(e=>e.json()).then(t=>({placeId:e,universeId:t.universeId})).catch(()=>({placeId:e,universeId:null}))),$=await Promise.all(r),d=$.filter(e=>e.universeId).map(e=>e.universeId);if(0===d.length)throw Error("No valid universe IDs found");let c=await fetch(o+encodeURIComponent(`https://games.roblox.com/v1/games?universeIds=${d.join(",")}`)),p=await c.json(),v=await fetch(o+encodeURIComponent(`https://thumbnails.roblox.com/v1/games/icons?universeIds=${d.join(",")}&size=512x512&format=Png&isCircular=false`)),g=await v.json(),m={};g.data.forEach(e=>{"Completed"===e.state&&e.imageUrl&&(m[e.targetId]=e.imageUrl)}),p.data.forEach(e=>{6763336660==e.id&&(e.visits=(e.visits||0)+367709);let t={id:e.id,name:e.name,playing:e.playing||0,visits:e.visits||0,thumbnail:m[e.id]||"https://via.placeholder.com/512x512/1e293b/60a5fa?text=Loading...",placeId:e.rootPlaceId};l.push(t),n+=t.visits,a+=t.playing}),l.sort((e,t)=>t.playing-e.playing),s.innerHTML="",l.forEach(t=>{let i=t.visits;t.visits>=1e9?i=Math.floor(t.visits/1e8)/10+"B":t.visits>=1e6?i=Math.floor(t.visits/1e5)/10+"M":t.visits>=1e3&&(i=Math.floor(t.visits/100)/10+"K");let n=document.createElement("div");n.className="game-card",n.innerHTML=`
                <img src="${t.thumbnail}" class="game-thumbnail" alt="${t.name}" loading="lazy">
                <div class="game-info">
                    <h3 class="game-name">${t.name}</h3>
                    <div class="game-stats">
                        <div class="game-stat">
                            <span class="online-indicator"></span>
                            <span>${t.playing.toLocaleString()}</span>
                        </div>
                        <div class="game-stat">
                            <img src="https://img.icons8.com/ios-filled/20/94a3b8/visible.png" class="icon" alt="Visits">
                            <span>${i}</span>
                        </div>
                    </div>
                </div>
            `,s.appendChild(n),n.addEventListener("click",function(){let i=$.find(e=>e.universeId===t.id),s=i?i.placeId:t.placeId;document.getElementById("popup-title").textContent=t.name,document.getElementById("popup-players").textContent=t.playing.toLocaleString();let n=t.visits.toLocaleString();t.visits>=1e9?n=Math.floor(t.visits/1e8)/10+"B":t.visits>=1e6?n=Math.floor(t.visits/1e5)/10+"M":t.visits>=1e3&&(n=Math.floor(t.visits/100)/10+"K"),document.getElementById("popup-visits").textContent=n,document.getElementById("popup-play-btn").href=`https://www.roblox.com/games/${s}`,document.getElementById("popup-contributions").innerHTML=descriptions[t.placeId.toString()]||descriptions.default,overlay.style.display="block",e.style.display="block"})}),document.getElementById("stat-players").innerText=a.toLocaleString(),n>=1e9?document.getElementById("stat-visits").innerText=Math.floor(n/1e8)/10+"B+":document.getElementById("stat-visits").innerText=Math.floor(n/1e5)/10+"M+"}catch(u){console.error("Error loading games:",u),s.innerHTML='<p style="color: var(--text-secondary); text-align: center;">Unable to load portfolio. Please try again later.</p>',document.getElementById("stat-players").innerText="error",document.getElementById("stat-visits").innerText="error"}}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){if(this.getAttribute("href").startsWith("#")){e.preventDefault();let t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}})}),window.innerWidth>768){document.querySelector(".cursor-glow");let e=document.querySelector(".grid-highlight"),t=e.getContext("2d");function i(){e.width=window.innerWidth,e.height=window.innerHeight}i(),window.addEventListener("resize",i);let s=0,n=0,a=0,l=0;function o(){s+=(a-s)*.1,n+=(l-n)*.1,t.clearRect(0,0,e.width,e.height);for(let i=0;i<e.width;i+=50)for(let r=0;r<e.height;r+=50){let $=i-s,d=r-n,c=Math.sqrt($*$+d*d);if(c<150){let p=Math.pow(1-c/150,1.5);t.strokeStyle=`rgba(59, 130, 246, ${.4*p})`,t.lineWidth=1+1.5*p,t.beginPath(),t.moveTo(i,Math.max(0,r-50)),t.lineTo(i,Math.min(e.height,r+50)),t.stroke(),t.beginPath(),t.moveTo(Math.max(0,i-50),r),t.lineTo(Math.min(e.width,i+50),r),t.stroke()}}requestAnimationFrame(o)}document.addEventListener("mousemove",e=>{a=e.clientX,l=e.clientY,document.body.classList.add("cursor-active")}),document.addEventListener("mouseleave",()=>{document.body.classList.remove("cursor-active")}),o()}document.addEventListener("gesturestart",function(e){e.preventDefault()}),document.addEventListener("touchmove",function(e){e.touches.length>1&&e.preventDefault()},{passive:!1});
